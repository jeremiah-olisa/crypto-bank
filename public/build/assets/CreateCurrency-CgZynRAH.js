import{_ as w}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-BHfBZlfK.js";import{_ as x}from"./Card.vue_vue_type_script_setup_true_lang-DxNQI8YK.js";import{_ as N,a as S}from"./Switch.vue_vue_type_script_setup_true_lang-Dsk6hkWd.js";import{d as V,o as i,h as c,b as s,w as t,e as u,t as p,c as C,k as h,u as e,s as $,q as F,x as M,l as v,C as E,F as L,y as B,a as k,f as D,p as R,r as T}from"./app-Cwyhr4wB.js";import{a as U,b,_}from"./TextField.vue_vue_type_script_setup_true_lang-BWAUxlAC.js";import{_ as j,a as q,b as A,c as H,d as P}from"./SelectValue.vue_vue_type_script_setup_true_lang-Ccm4rv7W.js";import{a as z,p as I}from"./BaseLayout.vue_vue_type_script_setup_true_lang-CKfpmz3d.js";import{_ as O}from"./Button.vue_vue_type_script_setup_true_lang-BVzdJtlF.js";import"./wallet-D9aQq8xR.js";import"./circle-help-Dms2x4-s.js";import"./Input.vue_vue_type_script_setup_true_lang-BvLp2cj9.js";import"./InputError.vue_vue_type_script_setup_true_lang-CSkPotM7.js";const G={key:0,role:"alert",class:"ml-2 mt-2 inline-block text-xs font-medium text-red-500"},J=V({__name:"SelectField",props:{id:{},name:{},label:{},placeholder:{},defaultValue:{},modelValue:{},errorMessage:{},helpDescription:{}},emits:["update:modelValue"],setup(y,{emit:d}){const m=y,r=z(m,"modelValue",d,{passive:!0,defaultValue:m.defaultValue});return(o,g)=>(i(),c("div",null,[s(e(b),{for:o.id,class:"mb-3 flex gap-3 text-sm font-medium"},{default:t(()=>[u(p(o.label)+" ",1),o.helpDescription?(i(),C(U,{key:0,align:"end",description:o.helpDescription},null,8,["description"])):h("",!0)]),_:1},8,["for"]),s(e(H),{id:o.id,modelValue:e(r),"onUpdate:modelValue":g[0]||(g[0]=n=>M(r)?r.value=n:null)},{default:t(()=>[s(e(j),{class:$({"border-red-500":o.errorMessage})},{default:t(()=>[s(e(q),{placeholder:o.placeholder,class:$({"text-red-500":o.errorMessage})},null,8,["placeholder","class"])]),_:1},8,["class"]),s(e(A),null,{default:t(()=>[F(o.$slots,"default")]),_:3})]),_:3},8,["id","modelValue"]),o.errorMessage?(i(),c("span",G,p(o.errorMessage),1)):h("",!0)]))}}),K={class:"col-span-2"},Q={class:"col-span-2 flex items-center gap-2"},W=V({__name:"CurrencyForm",props:{currency:{}},setup(y){const d=v("url"),m=[{id:1,title:"Fiat"},{id:2,title:"Cryptocurrency"}],f={name:"",code:"",category:"",rate:NaN,image_url:"",is_published:!0},r=E(f),o=()=>{if(r.hasErrors)return;const n=R.promise("Adding New Currency");r.post(route("currency.store"),{onSuccess:()=>{r.reset(),n.resolve("New Currency listed successfully")},onError:a=>{n.reject("Failed to added new currency"),I(a,f)},showProgress:!0})},g=n=>{const a=n.target.files[0];a&&(r.image_url=URL.createObjectURL(a))};return(n,a)=>(i(),c("form",{onSubmit:D(o,["prevent"]),class:"grid grid-cols-2 gap-x-5 gap-y-5"},[s(_,{id:"name",name:"name",modelValue:e(r).name,"onUpdate:modelValue":a[0]||(a[0]=l=>e(r).name=l),label:"Currency Name",placeholder:"Enter currency name","error-message":e(r).errors.name},null,8,["modelValue","error-message"]),s(_,{id:"code",name:"code",modelValue:e(r).code,"onUpdate:modelValue":a[1]||(a[1]=l=>e(r).code=l),label:"Currency Code",placeholder:"Enter currency code","error-message":e(r).errors.code},null,8,["modelValue","error-message"]),s(_,{id:"rate",name:"rate",modelValue:e(r).rate,"onUpdate:modelValue":a[2]||(a[2]=l=>e(r).rate=l),type:"number",min:1,max:100,label:"Currency Rate",placeholder:"Enter currency rate","help-description":"Platform's percentage markup over the market price.","error-message":e(r).errors.rate},null,8,["modelValue","error-message"]),s(J,{id:"category",name:"category",modelValue:e(r).category,"onUpdate:modelValue":a[3]||(a[3]=l=>e(r).category=l),label:"Currency Category",placeholder:"Select category","error-message":e(r).errors.category,"help-description":"Type of currency, e.g., Fiat (USD) or Crypto (Bitcoin)."},{default:t(()=>[(i(),c(L,null,B(m,l=>s(P,{key:l.id,value:l.title},{default:t(()=>[u(p(l.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["modelValue","error-message"]),k("div",K,[s(e(b),{class:"mb-1 block text-sm font-medium"},{default:t(()=>a[6]||(a[6]=[u("Currency Logo")])),_:1}),d.value==="file"?(i(),c("input",{key:0,type:"file",onChange:g,accept:"image/*",class:"w-full rounded-md border border-border bg-background px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"},null,32)):(i(),C(_,{key:1,modelValue:e(r).image_url,"onUpdate:modelValue":a[4]||(a[4]=l=>e(r).image_url=l),label:"Image URL",name:"image_url",id:"image_url",type:"url",placeholder:"https://cryptologos.cc/logos/bitcoin-btc-logo.png?v=040","error-message":e(r).errors.image_url,required:""},null,8,["modelValue","error-message"]))]),k("div",Q,[s(e(N),{id:"status",checked:e(r).is_published,"onUpdate:checked":a[5]||(a[5]=l=>e(r).is_published=l)},null,8,["checked"]),s(e(b),{for:"status",class:"text-sm font-medium"},{default:t(()=>a[7]||(a[7]=[u("Active")])),_:1}),s(U,{align:"end",description:"Shows if the currency is publicly listed and visible to users."})]),s(O,{type:"submit",loading:e(r).processing,disabled:e(r).processing},{default:t(()=>[u(p(n.currency?"Update":"Create")+" Currency ",1)]),_:1},8,["loading","disabled"])],32))}}),de=V({__name:"CreateCurrency",setup(y){const d=v("List New Currency");return(m,f)=>{const r=T("Head");return i(),C(w,null,{default:t(()=>[s(r,{title:d.value},null,8,["title"]),s(e(x),{class:"mx-auto mb-6 mt-2 max-w-screen-lg p-6"},{default:t(()=>[s(e(S),{class:"mb-6 text-base"},{default:t(()=>[u(p(d.value),1)]),_:1}),s(W)]),_:1})]),_:1})}}});export{de as default};
