import{c as _,a as t,_ as i}from"./index.esm-CwBwLG5n.js";import{_ as b}from"./BaseLayout.vue_vue_type_script_setup_true_lang-D-qnVPbp.js";import{b as P,_ as g}from"./index-CHtgltnJ.js";import{t as y,p as v}from"./index-Dlm-Elzg.js";import{d as E,r as q,c as V,w as n,o as k,a as l,b as o,e as p,u as r,P as $,p as h}from"./app-D2671_pP.js";const x={class:"space-y-5"},S=E({__name:"ResetPassword",props:{email:{},token:{}},setup(u){const m=u,w=_({token:t().required("Token is required"),email:t().email("Invalid email").required("Email is required"),password:t().min(6,"Password must be at least 6 characters").required("Password is required"),password_confirmation:t().min(6,"Password must be at least 6 characters").test("passwordMatch","Password do not match",function(d){return this.parent.password===d})}),e=P({token:m.token,email:m.email,password:"",password_confirmation:""},{schema:w}),f=()=>{e.validate(),!e.hasErrors&&e.post(route("password.store"),{onSuccess:()=>{e.reset("password","password_confirmation"),h.success("Password reset successfully")},onError:y,onErrors:v})};return(d,s)=>{const c=q("Head");return k(),V(g,{"form-title":"Reset Password",title:"Reset Your Password",subtitle:"Please provide a new password to continue.",description:"Enter your new password and password confirmation to reset your password."},{"form-action":n(()=>[s[5]||(s[5]=l("p",{class:"text-muted"},"Back to",-1)),o(r($),{prefetch:"",href:d.route("login"),class:"text-primary underline underline-offset-2"},{default:n(()=>s[4]||(s[4]=[p(" Login ")])),_:1},8,["href"])]),default:n(()=>[o(c,{title:"Reset Password"}),l("form",{onSubmit:f},[l("div",x,[o(i,{id:"email",type:"email",name:"email",disabled:"",label:"Email",placeholder:"Enter your email","default-value":r(e).email,"error-message":r(e).errors.email,required:"",readonly:""},null,8,["default-value","error-message"]),o(i,{id:"password",type:"password",name:"password",label:"New Password",placeholder:"Enter your new password",modelValue:r(e).password,"onUpdate:modelValue":s[0]||(s[0]=a=>r(e).password=a),"error-message":r(e).errors.password,required:"",autocomplete:"new-password",onInput:s[1]||(s[1]=a=>r(e).validate("password"))},null,8,["modelValue","error-message"]),o(i,{id:"password_confirmation",type:"password",name:"password_confirmation",label:"Confirm Password",placeholder:"Confirm your new password",modelValue:r(e).password_confirmation,"onUpdate:modelValue":s[2]||(s[2]=a=>r(e).password_confirmation=a),"error-message":r(e).errors.password_confirmation,required:"",autocomplete:"new-password",onInput:s[3]||(s[3]=a=>r(e).validate("password_confirmation"))},null,8,["modelValue","error-message"])]),o(b,{disabled:r(e).processing,loading:r(e).processing,type:"submit",class:"!mt-8 w-full"},{default:n(()=>s[6]||(s[6]=[p("Reset Password")])),_:1},8,["disabled","loading"])],32)]),_:1})}}});export{S as default};
