import{_ as q}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-aGRGpGnn.js";import{_ as S}from"./Card.vue_vue_type_script_setup_true_lang-DhmJ80qR.js";import{_ as E,a as L}from"./Switch.vue_vue_type_script_setup_true_lang-C0vFT6fL.js";import{d as C,o as t,j as m,b as a,w as o,e as c,t as p,c as $,k as v,u as r,s as V,q as w,x as M,l as x,F,y as N,a as k,f as R,p as B,r as D}from"./app-BHyH27ko.js";import{d as U,e as h,c as I,a as g,b as T,_}from"./index.esm-D3ndie9c.js";import{_ as j,a as A,b as H,c as P,d as z}from"./SelectValue.vue_vue_type_script_setup_true_lang-B-QNYWOC.js";import{a as O,t as G,p as J}from"./index-DdcOqEHE.js";import{_ as K}from"./Button.vue_vue_type_script_setup_true_lang-DbNPouGf.js";import{b as Q}from"./index-SwP8ybTE.js";import"./wallet-fEVW2rQ5.js";import"./circle-help-BFF_7Nlf.js";import"./Input.vue_vue_type_script_setup_true_lang-D7_K6Vj4.js";import"./InputError.vue_vue_type_script_setup_true_lang-B0JBTor2.js";const W={key:0,role:"alert",class:"ml-2 mt-2 inline-block text-xs font-medium text-red-500"},X=C({__name:"SelectField",props:{id:{},name:{},label:{},placeholder:{},defaultValue:{},modelValue:{},errorMessage:{},helpDescription:{}},emits:["update:modelValue"],setup(y,{emit:n}){const u=y,e=O(u,"modelValue",n,{passive:!0,defaultValue:u.defaultValue});return(s,f)=>(t(),m("div",null,[a(r(h),{for:s.id,class:"mb-3 flex gap-3 text-sm font-medium"},{default:o(()=>[c(p(s.label)+" ",1),s.helpDescription?(t(),$(U,{key:0,align:"end",description:s.helpDescription},null,8,["description"])):v("",!0)]),_:1},8,["for"]),a(r(P),{id:s.id,modelValue:r(e),"onUpdate:modelValue":f[0]||(f[0]=d=>M(e)?e.value=d:null)},{default:o(()=>[a(r(j),{class:V({"border-red-500":s.errorMessage})},{default:o(()=>[a(r(A),{placeholder:s.placeholder,class:V({"text-red-500":s.errorMessage})},null,8,["placeholder","class"])]),_:1},8,["class"]),a(r(H),null,{default:o(()=>[w(s.$slots,"default")]),_:3})]),_:3},8,["id","modelValue"]),s.errorMessage?(t(),m("span",W,p(s.errorMessage),1)):v("",!0)]))}}),Y={class:"col-span-2"},Z={class:"col-span-2 flex items-center gap-2"},ee=C({__name:"CurrencyForm",props:{currency:{}},setup(y){const n=x("url"),u=[{id:1,title:"Fiat"},{id:2,title:"Cryptocurrency"}],b=I({name:g().required("Currency Name is required"),code:g().required("Currency Code is required"),category:g().required("Category is required"),is_published:T().required("Is Published is required"),image_url:g().url("Image URL must be a valid URL")}),e=Q({name:"",code:"",category:"",image_url:"",is_published:!0},{schema:b}),s=()=>{e.validate(),!e.hasErrors&&e.post(route("login"),{onSuccess:()=>{e.reset(),B.success("Login successful")},onError:G,onErrors:J})},f=d=>{const l=d.target.files[0];l&&(e.image_url=URL.createObjectURL(l))};return(d,l)=>(t(),m("form",{onSubmit:R(s,["prevent"]),class:"grid grid-cols-2 gap-x-5 gap-y-5"},[a(_,{id:"name",name:"name",label:"Currency Name",placeholder:"Enter currency name","error-message":r(e).errors.name},null,8,["error-message"]),a(_,{id:"code",name:"code",label:"Currency Code",placeholder:"Enter currency code","error-message":r(e).errors.code},null,8,["error-message"]),a(_,{id:"rate",name:"rate",type:"number",min:1,max:100,label:"Currency Rate",placeholder:"Enter currency rate","help-description":"Platform's percentage markup over the market price.","error-message":r(e).errors.code},null,8,["error-message"]),a(X,{id:"category",name:"category",label:"Currency Category",placeholder:"Select category","error-message":r(e).errors.category,"help-description":"Type of currency, e.g., Fiat (USD) or Crypto (Bitcoin)."},{default:o(()=>[(t(),m(F,null,N(u,i=>a(z,{key:i.id,value:i.title},{default:o(()=>[c(p(i.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["error-message"]),k("div",Y,[a(r(h),{class:"mb-1 block text-sm font-medium"},{default:o(()=>l[2]||(l[2]=[c("Currency Logo")])),_:1}),n.value==="file"?(t(),m("input",{key:0,type:"file",onChange:f,accept:"image/*",class:"w-full rounded-md border border-border bg-background px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"},null,32)):(t(),$(_,{key:1,modelValue:r(e).image_url,"onUpdate:modelValue":l[0]||(l[0]=i=>r(e).image_url=i),label:"Image URL",name:"image_url",id:"image_url",type:"url",placeholder:"https://cryptologos.cc/logos/bitcoin-btc-logo.png?v=040","error-message":r(e).errors.image_url,required:""},null,8,["modelValue","error-message"]))]),k("div",Z,[a(r(E),{id:"status",checked:r(e).is_published,"onUpdate:checked":l[1]||(l[1]=i=>r(e).is_published=i)},null,8,["checked"]),a(r(h),{for:"status",class:"text-sm font-medium"},{default:o(()=>l[3]||(l[3]=[c("Active")])),_:1}),a(U,{align:"end",description:"Shows if the currency is publicly listed and visible to users."})]),a(K,{type:"submit",loading:r(e).processing,disabled:r(e).processing},{default:o(()=>[c(p(d.currency?"Update":"Create")+" Currency ",1)]),_:1},8,["loading","disabled"])],32))}}),fe=C({__name:"CreateCurrency",setup(y){const n=x("List New Currency");return(u,b)=>{const e=D("Head");return t(),$(q,null,{default:o(()=>[a(e,{title:n.value},null,8,["title"]),a(r(S),{class:"mx-auto mb-6 mt-2 max-w-screen-lg p-6"},{default:o(()=>[a(r(L),{class:"mb-6 text-base"},{default:o(()=>[c(p(n.value),1)]),_:1}),a(ee)]),_:1})]),_:1})}}});export{fe as default};
