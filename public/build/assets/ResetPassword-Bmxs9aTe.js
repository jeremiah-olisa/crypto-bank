import{d as _,r as P,c as b,w as t,o as g,a as d,b as o,e as p,u as r,P as v,f as y,p as E}from"./app-DMHW_hEp.js";import{_ as l}from"./TextField.vue_vue_type_script_setup_true_lang-BotO4yhB.js";import{_ as k}from"./Button.vue_vue_type_script_setup_true_lang-Dtre9DYF.js";import{u as q}from"./useTokenedForm-Bqv39GJh.js";import{_ as V}from"./AuthLayout.vue_vue_type_script_setup_true_lang-CuMtQXqo.js";import{t as $,p as x}from"./BaseLayout.vue_vue_type_script_setup_true_lang-D7GhP7bk.js";import{c as h,a as i}from"./index.esm-BFH3fXjn.js";import"./Input.vue_vue_type_script_setup_true_lang-DMrSvh0g.js";import"./InputError.vue_vue_type_script_setup_true_lang-7LCFoGgW.js";import"./circle-help-CqB9dIOJ.js";const C={class:"space-y-5"},F=_({__name:"ResetPassword",props:{email:{},token:{}},setup(u){const m=u,w=h({token:i().required("Token is required"),email:i().email("Invalid email").required("Email is required"),password:i().min(6,"Password must be at least 6 characters").required("Password is required"),password_confirmation:i().min(6,"Password must be at least 6 characters").test("passwordMatch","Password do not match",function(n){return this.parent.password===n})}),e=q({token:m.token,email:m.email,password:"",password_confirmation:""},w),f=()=>{e.validate(),!e.hasErrors&&e.post(route("password.store"),{onSuccess:()=>{e.reset("password","password_confirmation"),E.success("Password reset successfully")},onError:$,onErrors:x})};return(n,s)=>{const c=P("Head");return g(),b(V,{"form-title":"Reset Password",title:"Reset Your Password",subtitle:"Please provide a new password to continue.",description:"Enter your new password and password confirmation to reset your password."},{"form-action":t(()=>[s[5]||(s[5]=d("p",{class:"text-muted"},"Back to",-1)),o(r(v),{href:n.route("login"),class:"text-primary underline underline-offset-2"},{default:t(()=>s[4]||(s[4]=[p(" Login ")])),_:1},8,["href"])]),default:t(()=>[o(c,{title:"Reset Password"}),d("form",{onSubmit:y(f,["prevent"])},[d("div",C,[o(l,{id:"email",type:"email",name:"email",disabled:"",label:"Email",placeholder:"Enter your email","default-value":r(e).email,"error-message":r(e).errors.email,required:"",readonly:""},null,8,["default-value","error-message"]),o(l,{id:"password",type:"password",name:"password",label:"New Password",placeholder:"Enter your new password",modelValue:r(e).password,"onUpdate:modelValue":s[0]||(s[0]=a=>r(e).password=a),"error-message":r(e).errors.password,required:"",autocomplete:"new-password",onInput:s[1]||(s[1]=a=>r(e).validate("password"))},null,8,["modelValue","error-message"]),o(l,{id:"password_confirmation",type:"password",name:"password_confirmation",label:"Confirm Password",placeholder:"Confirm your new password",modelValue:r(e).password_confirmation,"onUpdate:modelValue":s[2]||(s[2]=a=>r(e).password_confirmation=a),"error-message":r(e).errors.password_confirmation,required:"",autocomplete:"new-password",onInput:s[3]||(s[3]=a=>r(e).validate("password_confirmation"))},null,8,["modelValue","error-message"])]),o(k,{disabled:r(e).processing,loading:r(e).processing,type:"submit",class:"!mt-8 w-full"},{default:t(()=>s[6]||(s[6]=[p("Reset Password")])),_:1},8,["disabled","loading"])],32)]),_:1})}}});export{F as default};
