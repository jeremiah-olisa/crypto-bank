import{_ as q}from"./DefaultLayout.vue_vue_type_script_setup_true_lang-BfeVXgQA.js";import{_ as S}from"./Card.vue_vue_type_script_setup_true_lang-DsWBP5tm.js";import{_ as E,a as L}from"./Switch.vue_vue_type_script_setup_true_lang-3-cvYMX7.js";import{d as C,o as t,j as m,b as s,w as o,e as u,t as p,c as $,k as v,u as r,s as k,q as w,x as F,l as x,F as M,y as N,a as V,f as R,p as B,r as D}from"./app-Df2toIYO.js";import{d as U,e as h,c as T,a as g,b as I,_}from"./index.esm-DCJMgIqL.js";import{_ as j,a as A,b as H,c as P,d as z}from"./SelectValue.vue_vue_type_script_setup_true_lang-BZZs6D-L.js";import{a as O,t as G,p as J}from"./index-Bli-pLwk.js";import{_ as K}from"./Button.vue_vue_type_script_setup_true_lang-N8ZQ5JzW.js";import{u as Q}from"./useTokenedForm-CzGszhML.js";import"./wallet-C0l1fcCT.js";import"./circle-help-CsWfo8gR.js";import"./Input.vue_vue_type_script_setup_true_lang-CGRQBCkm.js";import"./InputError.vue_vue_type_script_setup_true_lang-DcwfAN9e.js";const W={key:0,role:"alert",class:"ml-2 mt-2 inline-block text-xs font-medium text-red-500"},X=C({__name:"SelectField",props:{id:{},name:{},label:{},placeholder:{},defaultValue:{},modelValue:{},errorMessage:{},helpDescription:{}},emits:["update:modelValue"],setup(y,{emit:n}){const c=y,e=O(c,"modelValue",n,{passive:!0,defaultValue:c.defaultValue});return(a,f)=>(t(),m("div",null,[s(r(h),{for:a.id,class:"mb-3 flex gap-3 text-sm font-medium"},{default:o(()=>[u(p(a.label)+" ",1),a.helpDescription?(t(),$(U,{key:0,align:"end",description:a.helpDescription},null,8,["description"])):v("",!0)]),_:1},8,["for"]),s(r(P),{id:a.id,modelValue:r(e),"onUpdate:modelValue":f[0]||(f[0]=d=>F(e)?e.value=d:null)},{default:o(()=>[s(r(j),{class:k({"border-red-500":a.errorMessage})},{default:o(()=>[s(r(A),{placeholder:a.placeholder,class:k({"text-red-500":a.errorMessage})},null,8,["placeholder","class"])]),_:1},8,["class"]),s(r(H),null,{default:o(()=>[w(a.$slots,"default")]),_:3})]),_:3},8,["id","modelValue"]),a.errorMessage?(t(),m("span",W,p(a.errorMessage),1)):v("",!0)]))}}),Y={class:"col-span-2"},Z={class:"col-span-2 flex items-center gap-2"},ee=C({__name:"CurrencyForm",props:{currency:{}},setup(y){const n=x("url"),c=[{id:1,title:"Fiat"},{id:2,title:"Cryptocurrency"}],b=T({name:g().required("Currency Name is required"),code:g().required("Currency Code is required"),category:g().required("Category is required"),is_published:I().required("Is Published is required"),image_url:g().url("Image URL must be a valid URL")}),e=Q({name:"",code:"",category:"",image_url:"",is_published:!0},b),a=()=>{e.validate(),!e.hasErrors&&e.post(route("login"),{onSuccess:()=>{e.reset(),B.success("Login successful")},onError:G,onErrors:J})},f=d=>{const l=d.target.files[0];l&&(e.image_url=URL.createObjectURL(l))};return(d,l)=>(t(),m("form",{onSubmit:R(a,["prevent"]),class:"grid grid-cols-2 gap-x-5 gap-y-5"},[s(_,{id:"name",name:"name",label:"Currency Name",placeholder:"Enter currency name","error-message":r(e).errors.name},null,8,["error-message"]),s(_,{id:"code",name:"code",label:"Currency Code",placeholder:"Enter currency code","error-message":r(e).errors.code},null,8,["error-message"]),s(_,{id:"rate",name:"rate",type:"number",min:1,max:100,label:"Currency Rate",placeholder:"Enter currency rate","help-description":"Platform's percentage markup over the market price.","error-message":r(e).errors.code},null,8,["error-message"]),s(X,{id:"category",name:"category",label:"Currency Category",placeholder:"Select category","error-message":r(e).errors.category,"help-description":"Type of currency, e.g., Fiat (USD) or Crypto (Bitcoin)."},{default:o(()=>[(t(),m(M,null,N(c,i=>s(z,{key:i.id,value:i.title},{default:o(()=>[u(p(i.title),1)]),_:2},1032,["value"])),64))]),_:1},8,["error-message"]),V("div",Y,[s(r(h),{class:"mb-1 block text-sm font-medium"},{default:o(()=>l[2]||(l[2]=[u("Currency Logo")])),_:1}),n.value==="file"?(t(),m("input",{key:0,type:"file",onChange:f,accept:"image/*",class:"w-full rounded-md border border-border bg-background px-3 py-2 focus:outline-none focus:ring-2 focus:ring-primary"},null,32)):(t(),$(_,{key:1,modelValue:r(e).image_url,"onUpdate:modelValue":l[0]||(l[0]=i=>r(e).image_url=i),label:"Image URL",name:"image_url",id:"image_url",type:"url",placeholder:"https://cryptologos.cc/logos/bitcoin-btc-logo.png?v=040","error-message":r(e).errors.image_url,required:""},null,8,["modelValue","error-message"]))]),V("div",Z,[s(r(E),{id:"status",checked:r(e).is_published,"onUpdate:checked":l[1]||(l[1]=i=>r(e).is_published=i)},null,8,["checked"]),s(r(h),{for:"status",class:"text-sm font-medium"},{default:o(()=>l[3]||(l[3]=[u("Active")])),_:1}),s(U,{align:"end",description:"Shows if the currency is publicly listed and visible to users."})]),s(K,{type:"submit",loading:r(e).processing,disabled:r(e).processing},{default:o(()=>[u(p(d.currency?"Update":"Create")+" Currency ",1)]),_:1},8,["loading","disabled"])],32))}}),fe=C({__name:"CreateCurrency",setup(y){const n=x("List New Currency");return(c,b)=>{const e=D("Head");return t(),$(q,null,{default:o(()=>[s(e,{title:n.value},null,8,["title"]),s(r(S),{class:"mx-auto mb-6 mt-2 max-w-screen-lg p-6"},{default:o(()=>[s(r(L),{class:"mb-6 text-base"},{default:o(()=>[u(p(n.value),1)]),_:1}),s(ee)]),_:1})]),_:1})}}});export{fe as default};
